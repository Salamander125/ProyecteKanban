<Window
    x:Class="ToDoListTest.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:ToDoListTest"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    Title="Kanban Board"
    Width="1200"
    Height="600"
    Background="#F5F5F5"
    mc:Ignorable="d">
    <Window.Resources>
        <!--  Estilos para los encabezados de columna  -->
        <Style x:Key="ColumnHeaderStyle" TargetType="TextBlock">
            <Setter Property="FontSize" Value="22" />
            <Setter Property="FontWeight" Value="SemiBold" />
            <Setter Property="Margin" Value="10" />
            <Setter Property="Foreground" Value="#333333" />
        </Style>
        <!--  Estilo base para las ListViews  -->
        <Style TargetType="ListView">
            <Setter Property="Margin" Value="10" />
            <Setter Property="Background" Value="#FFFFFF" />
            <Setter Property="BorderBrush" Value="#DDDDDD" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="AllowDrop" Value="True" />
            <Setter Property="ScrollViewer.VerticalScrollBarVisibility" Value="Auto" />
        </Style>
        <!--  Estilo para los elementos de la lista (dentro del DataTemplate)  -->
        <Style TargetType="Button">
            <Setter Property="HorizontalAlignment" Value="Stretch" />
            <Setter Property="Margin" Value="5" />
            <Setter Property="Padding" Value="10" />
            <Setter Property="Background" Value="#E0F7FA" />
            <Setter Property="BorderBrush" Value="#00BCD4" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="5">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>

    <Grid>
        <!--  4 Columnas: To Do | In Progress | Done | Creation Form  -->
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="0.75*" />
        </Grid.ColumnDefinitions>

        <StackPanel Grid.Column="0">
            <TextBlock Style="{StaticResource ColumnHeaderStyle}" Text="1. Tickets Pendientes (To Do)" />
            <ListView
                Name="ListaTickets"
                Height="500"
                DragOver="ListView_DragOver"
                Drop="HandleDrop"
                MouseMove="ListView_MouseMove"
                PreviewMouseLeftButtonDown="ListView_PreviewMouseLeftButtonDown">
                <ListView.ItemTemplate>
                    <DataTemplate>
                        <Border MouseLeftButtonUp="AccesoNuevaVentana">
                            <StackPanel MinWidth="280">
                                <TextBlock FontWeight="Bold" Text="{Binding Title}" />
                                <TextBlock
                                    FontSize="11"
                                    FontStyle="Italic"
                                    Foreground="#555"
                                    Text="{Binding Description}"
                                    TextWrapping="Wrap" />
                                <TextBlock
                                    FontSize="10"
                                    Foreground="#AAA"
                                    Text="{Binding Codigo}"
                                    TextWrapping="Wrap" />
                            </StackPanel>
                        </Border>
                    </DataTemplate>
                </ListView.ItemTemplate>
            </ListView>
        </StackPanel>

        <!--  COLUMNA 2: EN CURSO (ListaEnCurso)  -->
        <StackPanel Grid.Column="1">
            <TextBlock Style="{StaticResource ColumnHeaderStyle}" Text="2. Tickets En Curso (In Progress)" />
            <ListView
                Name="ListaEnCurso"
                Height="500"
                DragOver="ListView_DragOver"
                Drop="HandleDrop"
                MouseMove="ListView_MouseMove"
                PreviewMouseLeftButtonDown="ListView_PreviewMouseLeftButtonDown">
                <ListView.ItemTemplate>
                    <DataTemplate>
                        <Border
                            Background="#FFF9C4"
                            BorderBrush="#FBC02D"
                            MouseLeftButtonUp="AccesoNuevaVentana">
                            <StackPanel MinWidth="280">
                                <TextBlock FontWeight="Bold" Text="{Binding Title}" />
                                <TextBlock
                                    FontSize="11"
                                    FontStyle="Italic"
                                    Foreground="#555"
                                    Text="{Binding Description}"
                                    TextWrapping="Wrap" />
                                <TextBlock
                                    FontSize="10"
                                    Foreground="#AAA"
                                    Text="{Binding Codigo}"
                                    TextWrapping="Wrap" />
                            </StackPanel>
                        </Border>
                    </DataTemplate>
                </ListView.ItemTemplate>
            </ListView>
        </StackPanel>

        <!--  COLUMNA 3: FINALIZADOS (ListaFinalizados)  -->
        <StackPanel Grid.Column="2">
            <TextBlock Style="{StaticResource ColumnHeaderStyle}" Text="3. Tickets Finalizados (Done)" />
            <ListView
                Name="ListaFinalizados"
                Height="500"
                DragOver="ListView_DragOver"
                Drop="HandleDrop"
                MouseMove="ListView_MouseMove"
                PreviewMouseLeftButtonDown="ListView_PreviewMouseLeftButtonDown">
                <ListView.ItemTemplate>
                    <DataTemplate>
                        <Border
                            Background="#C8E6C9"
                            BorderBrush="#4CAF50"
                            MouseLeftButtonUp="AccesoNuevaVentana">
                            <StackPanel MinWidth="280">
                                <TextBlock
                                    FontWeight="Bold"
                                    Text="{Binding Title}"
                                    TextDecorations="Strikethrough" />
                                <TextBlock
                                    FontSize="11"
                                    FontStyle="Italic"
                                    Foreground="#555"
                                    Text="{Binding Description}"
                                    TextWrapping="Wrap" />
                                <TextBlock
                                    FontSize="10"
                                    Foreground="#AAA"
                                    Text="{Binding Codigo}"
                                    TextWrapping="Wrap" />
                            </StackPanel>
                        </Border>
                    </DataTemplate>
                </ListView.ItemTemplate>
            </ListView>
        </StackPanel>

        <StackPanel
            Grid.Column="3"
            Margin="20"
            Background="#EFEFEF">
            <TextBlock
                Margin="0,0,0,10"
                FontSize="18"
                FontWeight="Bold"
                Foreground="#333">
                Crear Nueva Tarea
            </TextBlock>

            <TextBlock Margin="0,5,0,2">Título:</TextBlock>
            <TextBox
                Name="IntroTitle"
                Height="25"
                Margin="0,0,0,10"
                Text="Nuevo" />

            <TextBlock Margin="0,5,0,2">Descripción:</TextBlock>
            <TextBox
                Name="IntroDescription"
                Height="70"
                Margin="0,0,0,15"
                AcceptsReturn="True"
                Text=""
                TextWrapping="Wrap" />

            <Button
                Width="150"
                Margin="0,10,0,0"
                HorizontalAlignment="Center"
                Background="#FF5722"
                BorderBrush="#D84315"
                Click="Button_Click"
                FontWeight="Bold"
                Foreground="White">
                Añadir Tarea
            </Button>
        </StackPanel>
    </Grid>
</Window>